# 🇨🇳 TradingAgents 中文功能使用指南

## 🎯 快速开始

### 1. 启动应用

双击桌面快捷方式 "TradingAgents" 或运行：
```bash
python -m cli.main
```

### 2. 新的用户流程

#### 第一步：选择语言 ⭐ NEW!
```
Language Selection / 语言选择:
> English
  中文 (Chinese)
```
使用方向键选择，回车确认。

#### 第二步到第六步：标准配置
- Ticker 代码
- 分析日期
- 分析师团队
- 研究深度
- LLM 提供商
- 思考模型

#### 第七步：翻译选项 ⭐ NEW! (仅中文界面显示)
```
步骤 7：报告翻译
是否将报告翻译成中文？
> 是，翻译成中文（推荐使用 GPT-5 Mini）
  否，仅保留英文报告
```

#### 第八步：翻译模型 ⭐ NEW! (如果启用翻译)
```
步骤 8：翻译模型
选择用于翻译的 LLM:
> GPT-5 Mini - Balanced performance and cost (Recommended)
  GPT-5 Nano - Most cost-efficient
  GPT-4o-mini - Cost-effective legacy model
  GPT-5 - Best quality (higher cost)
```

#### 第九步：保存报告 ⭐ NEW!
```
步骤 9：保存报告
是否保存报告？
> 是，保存报告
  否，不保存
```

#### 第十步：报告格式 ⭐ NEW! (如果选择保存)
```
步骤 10：报告格式
选择报告格式:
  Markdown 格式（.md）
  HTML 格式（.html）
> Markdown 和 HTML 两种格式
```

---

## 💡 推荐配置

### 配置 1：测试模式（省钱）
```yaml
语言: 中文
翻译: 是
翻译模型: gpt-5-nano  # 最便宜
保存: 是
格式: Markdown

成本: 💰 (低)
质量: ⭐⭐⭐ (良好)
```

### 配置 2：日常使用（推荐）
```yaml
语言: 中文
翻译: 是
翻译模型: gpt-5-mini  # 推荐
保存: 是
格式: Both (Markdown + HTML)

成本: 💰💰 (中等)
质量: ⭐⭐⭐⭐ (很好)
```

### 配置 3：专业报告（最佳质量）
```yaml
语言: 中文
翻译: 是
翻译模型: gpt-5  # 最好
保存: 是
格式: Both (Markdown + HTML)

成本: 💰💰💰 (较高)
质量: ⭐⭐⭐⭐⭐ (最佳)
```

### 配置 4：英文原版（兼容模式）
```yaml
语言: English
翻译: N/A (不显示)
保存: Yes
格式: Markdown

行为: 与原版完全一致
```

---

## 📂 输出文件说明

### 文件保存位置
```
D:\TradingAgents\results\
└── {你的Ticker}/
    └── {分析日期}/
        └── reports/
            ├── {Ticker}_{日期}_report_en.md    ← 英文 Markdown
            ├── {Ticker}_{日期}_report_zh.md    ← 中文 Markdown
            ├── {Ticker}_{日期}_report_en.html  ← 英文 HTML
            └── {Ticker}_{日期}_report_zh.html  ← 中文 HTML
```

### 文件命名示例
```
NVDA_2024-05-10_report_en.md      # 英文版
NVDA_2024-05-10_report_zh.md      # 中文版
NVDA_2024-05-10_report_en.html    # 英文网页
NVDA_2024-05-10_report_zh.html    # 中文网页
```

---

## 🎨 HTML 报告特性

### 专业样式
- ✅ 响应式设计（手机/平板/电脑自适应）
- ✅ 打印友好（可直接打印）
- ✅ 金融报告专业配色
- ✅ 美化的表格
- ✅ 代码块语法高亮
- ✅ 中文字体优化（微软雅黑）

### 如何查看
1. 找到保存的 HTML 文件
2. 双击文件在浏览器中打开
3. 或右键选择"打开方式" → 选择浏览器

### 打印报告
1. 在浏览器中打开 HTML 文件
2. Ctrl+P 或 文件 → 打印
3. 调整页面设置
4. 打印或保存为 PDF

---

## ⚡ 性能提示

### 翻译速度
- gpt-5-nano: 最快 ⚡⚡⚡
- gpt-5-mini: 快 ⚡⚡
- gpt-5: 中等 ⚡

### 成本优化
```
💰 最省钱: gpt-5-nano (测试推荐)
💰💰 推荐: gpt-5-mini (日常使用)
💰💰💰 高质量: gpt-5 (重要报告)
```

### 翻译时间估算
```
短报告 (< 5000 字): 10-20 秒
中等报告 (5000-15000 字): 30-60 秒
长报告 (> 15000 字): 1-2 分钟
```

---

## 🔧 常见问题

### Q1: 翻译失败怎么办？
**A**: 系统会显示错误消息，但英文报告仍然正常显示。可能原因：
- API 额度不足
- 网络连接问题
- 模型暂时不可用

**解决方法**:
1. 检查 API 密钥是否有效
2. 检查网络连接
3. 稍后重试
4. 尝试其他翻译模型

### Q2: 为什么分析过程仍是英文？
**A**: 这是设计如此。核心分析 Agents 使用英文 Prompt 以确保准确性，只在最后翻译报告。

### Q3: 可以只要中文报告吗？
**A**: 系统会同时生成英文和中文报告。如果只需要中文，可以删除英文文件。

### Q4: HTML 报告在浏览器中乱码？
**A**: 这不应该发生，HTML 文件已设置 UTF-8 编码。如果出现：
1. 用现代浏览器打开（Chrome/Edge/Firefox）
2. 检查浏览器编码设置
3. 重新生成报告

### Q4.5: CLI终端显示中文乱码？
**A**: 系统已自动配置UTF-8编码。如果仍有问题：
1. 确保使用启动脚本（已配置 `chcp 65001`）
2. Windows 10/11: 设置 → 时间和语言 → 语言 → 管理语言设置 → 更改系统区域设置 → 勾选"Beta: 使用 Unicode UTF-8 提供全球语言支持"
3. 如果终端无法显示，中文报告仍会正确保存到文件

### Q5: 如何自定义 HTML 样式？
**A**: 编辑 `cli/report_export.py` 中的 `generate_html_template()` 函数。

### Q6: 翻译质量如何？
**A**: 使用专业金融术语词汇表，质量取决于选择的 LLM：
- gpt-5: 最好
- gpt-5-mini: 很好（推荐）
- gpt-5-nano: 良好

### Q7: 可以保存为 PDF 吗？
**A**: 当前版本不直接支持 PDF。但你可以：
1. 生成 HTML 报告
2. 在浏览器中打开
3. 打印 → 保存为 PDF

---

## 📊 界面对照表

### 英文界面
```
Welcome to TradingAgents
Step 1: Ticker Symbol
Step 2: Analysis Date
Step 3: Analysts Team
Step 4: Research Depth
Step 5: LLM Provider
Step 6: Thinking Agents
Step 9: Save Report
Step 10: Report Format
```

### 中文界面
```
欢迎使用 TradingAgents
步骤 1：股票代码
步骤 2：分析日期
步骤 3：分析师团队
步骤 4：研究深度
步骤 5：LLM 提供商
步骤 6：思考代理
步骤 7：报告翻译  ← 新增
步骤 8：翻译模型  ← 新增（条件）
步骤 9：保存报告  ← 新增
步骤 10：报告格式 ← 新增（条件）
```

---

## 🎯 使用场景

### 场景 1：快速测试
```
目的: 验证功能
配置: 英文界面 + 不翻译 + 不保存
时间: 最快
成本: 最低
```

### 场景 2：日常分析
```
目的: 常规交易决策
配置: 中文界面 + gpt-5-mini翻译 + 保存Markdown
时间: 快
成本: 中等
```

### 场景 3：专业报告
```
目的: 重要投资决策
配置: 中文界面 + gpt-5翻译 + 保存HTML+Markdown
时间: 中等
成本: 较高
质量: 最佳
```

### 场景 4：演示/分享
```
目的: 向他人展示
配置: 中文界面 + 翻译 + 保存HTML
优势: 美观的网页报告，易于分享
```

---

## ⚠️ 重要提醒

### 1. API 成本
- 翻译会产生额外的 API 调用费用
- 长报告翻译成本可能较高
- 建议先用 gpt-5-nano 测试

### 2. 分析准确性
- ✅ 核心分析逻辑使用英文（确保准确）
- ✅ 翻译仅应用于最终报告
- ⚠️ 翻译不影响分析质量

### 3. 文件管理
- 报告文件会累积，定期清理
- HTML 文件通常比 Markdown 大
- 建议定期备份重要报告

### 4. 隐私安全
- 报告包含敏感交易信息
- 注意文件权限设置
- 分享前删除敏感信息

---

## 🎊 开始使用

1. **双击桌面快捷方式 "TradingAgents"**
2. 或运行命令：`python -m cli.main`
3. 选择"中文"
4. 按照提示配置
5. 开始分析
6. 获得专业的中英文报告！

---

## 📞 需要帮助？

查看完整文档：
- `I18N_COMPLETE.md` - 完整实施文档
- `I18N_IMPLEMENTATION_STATUS.md` - 技术细节
- `CLAUDE.md` - 系统架构
- `README.md` - 项目说明

---

**祝您使用愉快！** 🚀📈